---
permalink: concepts/high-availability-pairs-concept.html 
sidebar: sidebar 
keywords: high-availability pairs 
summary: 集群节点以高可用性（ HA ）对的形式进行配置，以实现容错和无中断运行。如果某个节点发生故障，或者您需要关闭某个节点进行日常维护，则其配对节点可以接管其存储并继续从该节点提供数据。当节点恢复联机时，配对节点会交还存储。 
---
= 高可用性对
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
集群节点在 _High-availability （ HA ）对中进行配置，以实现容错和无中断运行。如果某个节点发生故障或需要关闭某个节点以进行日常维护，其配对节点可以接管其存储并继续从中提供数据。当节点恢复联机时，配对节点 _gives back_ storage 。

HA 对始终由相似的控制器型号组成。控制器通常位于具有冗余电源的同一机箱中。

HA 对是容错节点，可以以不同的方式相互通信，以允许每个节点不断检查其伙伴是否正常运行，并为对方的非易失性存储器镜像日志数据。当向节点发出写入请求时，该请求会记录在两个节点的NVRAM中，然后再将响应发送回客户端或主机。在故障转移时，幸存的伙伴将故障节点未提交的写入请求提交到磁盘，确保数据一致性。幸存节点继续将写入记录到NVRAM分区，该分区之前充当故障节点的NVRAM的镜像。

通过连接到另一个控制器的存储介质，可以使每个节点在发生接管时访问另一个控制器的存储。网络路径故障转移机制可确保客户端和主机继续与正常运行的节点进行通信。

为了确保可用性，您应将任一节点上的性能容量利用率保持在 50% ，以便在故障转移情况下处理额外的工作负载。出于同样的原因，您可能希望为一个节点配置的 NAS 虚拟网络接口数量不超过最大数量的 50% 。

image:high-availability.gif["高可用性对"]

|===


 a| 
* 虚拟化 ONTAP 实施中的接管和交还 _*

在ONTAP Select等虚拟化“无共享” ONTAP实现中，节点之间不共享存储。当某个节点发生故障时，其配对节点将继续通过该节点数据的同步镜像副本提供数据。它不会接管该节点的存储，而只接管其数据服务功能。

|===