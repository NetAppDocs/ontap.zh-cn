---
permalink: revert/task_reverting_password_hash_function.html 
sidebar: sidebar 
keywords: revert, reverting, reversion, password, hash, function, supported, encryption, type 
summary: 如果您还原到任何 ONTAP 9 版本之前的版本，则 SHA-2 帐户用户将无法再使用其密码进行身份验证。因此，您必须让他们使用还原到的版本支持的加密类型 \ （ md5\ ）将密码重置为。 
---
= 将密码哈希函数还原为支持的加密类型
:icons: font
:imagesdir: ../media/


[role="lead"]
如果您还原到任何 ONTAP 9 版本之前的版本，则 SHA-2 帐户用户将无法再使用其密码进行身份验证。因此，您必须让他们使用还原到的版本支持的加密类型（ MD5 ）将密码重置为。

. 在还原之前，请确定使用 SHA-2 哈希函数的用户帐户（高级权限级别）： `ssecurity login show -vserver * -username * -application * -authentication-method password -hash-function ！ md5`
+
您应保留命令输出。还原后，您需要帐户信息。

. 在还原期间，根据提示运行高级命令 security Login password-prepare-to-downgrade ，将您自己的密码重置为使用 MD5 哈希函数。
+
如果您的密码未使用 MD5 加密，则此命令将提示您输入新密码并使用 MD5 加密，以便在还原后对凭据进行身份验证。

. 还原后，将 SHA-2 帐户重置为 MD5 ：
+
.. 对于您确定的每个 SHA-2 帐户，将密码更改为临时密码： `ssecurity login password -username user_name -vserver vserver_name`
+
更改后的密码将使用 MD5 哈希函数。

.. 将临时密码告知受影响的用户，并让他们通过控制台或 SSH 会话登录以根据系统提示更改其密码。



