---
permalink: san-config/setting-queue-depths-hp-ux-hosts-concept.html 
sidebar: sidebar 
keywords: set, queue, depths, hp-ux, hosts 
summary: 您可以使用内核参数 scsi_max_qdepth 更改 HP-UX 主机上的 LUN 或设备队列深度。您可以使用内核参数 max_fcp_reqs 更改 HBA 队列深度。 
---
= 设置 HP-UX 主机上的队列深度
:icons: font
:imagesdir: ../media/


[role="lead"]
您可以使用内核参数 `scsI_max_qdepth` 更改 HP-UX 主机上的 LUN 或设备队列深度。您可以使用内核参数 `max_fcp_reqs` 更改 HBA 队列深度。

* `sCSI 最大 qdepth` 的默认值为 8 。最大值为 255 。
+
可以在运行的系统上使用 `kmtune` 命令上的 ` -u` 选项动态更改 `scsI_max_qdepth` 。此更改将对系统上的所有设备生效。例如，使用以下命令将 LUN 队列深度增加到 64 ：

+
`kmtune -u -s SCSI_max_qdepth=64`

+
可以使用 `scsictl` 命令更改单个设备文件的队列深度。使用 `scsictl` 命令进行的更改在系统重新启动后不会持久。要查看和更改特定设备文件的队列深度，请执行以下命令：

+
`scsictl -a /dev/rdsk/c2t2d0`

+
`scsictl -m queue_depth=16 /dev/rdsk/c2t2d0`

* `max_fcp_reqs` 的默认值为 512 。最大值为 1024 。
+
必须重建内核并重新启动系统，对 `max_fcp_reqs` 所做的更改才能生效。例如，要将 HBA 队列深度更改为 256 ，请使用以下命令：

+
`kmtune -u -s max_fcp_reqs=256`


