---
permalink: upgrade/considerations-authenticate-ssh-public-key-fips-concept.html 
sidebar: sidebar 
keywords: ontap, upgrade, update, considerations, ssl, fips mode, host key algorithm 
summary: 如果在管理员帐户使用SSH公有 密钥进行身份验证的集群上启用了SSL FIPS模式、则在升级ONTAP 之前、必须确保目标版本支持主机密钥算法。 
---
= 面向会话的协议的注意事项
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
如果在管理员帐户使用SSH公有 密钥进行身份验证的集群上启用了SSL FIPS模式、则在升级ONTAP 之前、必须确保目标版本支持主机密钥算法。

*注：* ONTAP 9.11.1及更高版本对主机密钥算法的支持已发生更改。

[cols="30,30,30"]
|===


| ONTAP 版本 | 支持的密钥类型 | 不支持的密钥类型 


 a| 
9.11.1及更高版本
 a| 
ECDSA-SHA2-nistp256
 a| 
RSA-SHA2-512 + RSA-SHA2-256 + ssh-ed25519 + ssh-dss + ssh-rsa



 a| 
9.10.1及更早版本
 a| 
ECDSA-SHA2-nistp256 + ssh-ed25519
 a| 
SSH/DSS + SSH/RSA

|===
在启用升级之前、必须使用受支持的密钥类型重新配置不具有受支持密钥算法的现有SSH公有 密钥帐户、否则管理员身份验证将失败。

link:../authentication/enable-ssh-public-key-accounts-task.html["了解有关启用SSH公有 密钥帐户的更多信息。"]



== ONTAP 9.11.1RC1注意事项

由于ONTAP 9.11.1RC1的更改、FIPS 140-2合规性管理模式不再使用经过FIPS 140-2验证的软件模块。

ONTAP 9.11.1RC1升级了用于HTTPS管理和控制平面连接的OpenSSL版本。此版本的OpenSSL (OpenSSL 3.x FIPS提供程序)尚未完成FIPS 140-2加密模块验证计划(CMVP)验证过程。

启用FIPS兼容模式后、用于HTTPS连接的加密算法与加密算法验证计划(CAVP)证书A1938中发布的OpenSSL Project OpenSSL 3.x FIPS提供程序算法相同。*此更改仅影响在FIPS兼容模式下配置的ONTAP 系统。*

一旦ONTAP 9.11.1RC1中已升级的OpenSSL模块通过NIST完成FIPS 140-2验证、此问题描述 将得到修复。如果您的环境要求使用已通过FIPS 140-2 CMVP验证的模块运行ONTAP 集群管理控制平面、则建议不要升级到9.11.1RC1。

这不会影响NSE、NVE和NAE等NetApp空闲加密技术、因为这些功能使用的加密模块与ONTAP 中的OpenSSL提供的加密模块不同。

有关详细信息，请参见 link:https://kb.netapp.com/Advice_and_Troubleshooting/Data_Storage_Software/ONTAP_OS/Upgrading_to_ONTAP_9.11.1RC1_results_in_FIPS_140-2_compliance_management_configuration_that_is_not_validated["升级到ONTAP 9.11.1RC1会导致FIPS 140-2合规性管理配置未经过验证"^]。
